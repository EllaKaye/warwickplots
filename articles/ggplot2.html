<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="warwickplots">
<title>Using warwickplots with ggplot2 • warwickplots</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Lato-0.4.9/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using warwickplots with ggplot2">
<meta property="og:description" content="warwickplots">
<meta property="og:image" content="https://warwick-stats-resources.github.io/warwickplots/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">warwickplots</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/warwickplots.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/ggplot2.html">Using warwickplots with ggplot2</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Warwick-Stats-Resources/warwickplots/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Using warwickplots with ggplot2</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Warwick-Stats-Resources/warwickplots/blob/HEAD/vignettes/ggplot2.Rmd" class="external-link"><code>vignettes/ggplot2.Rmd</code></a></small>
      <div class="d-none name"><code>ggplot2.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Warwick-Stats-Resources/warwickplots" class="external-link">warwickplots</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: palettes</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://allisonhorst.github.io/palmerpenguins/" class="external-link">palmerpenguins</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span></code></pre></div>
<p>Below are several example plots, made with <a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a> demonstrating the usage
of the various palettes in <code>warwick_palettes</code> and
<code><a href="../reference/theme_warwick.html">theme_warwick()</a></code>.</p>
<p>First, let’s define a starting plot:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">flipper_length_mm</span>, <span class="va">body_mass_g</span>, group <span class="op">=</span> <span class="va">species</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="va">species</span>, shape <span class="op">=</span> <span class="va">species</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">0.8</span>, size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Penguin Size, Palmer Station LTER"</span>,</span>
<span>       caption <span class="op">=</span> <span class="st">"Visualization: Ella Kaye"</span>,</span>
<span>       x <span class="op">=</span> <span class="st">"flipper length (mm)"</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"body mass (g)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/theme_warwick.html">theme_warwick</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  </span>
<span><span class="va">p</span></span></code></pre></div>
<p><img src="ggplot2_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
<div class="section level2">
<h2 id="using-colour-and-fill-scales">Using colour and fill scales<a class="anchor" aria-label="anchor" href="#using-colour-and-fill-scales"></a>
</h2>
<div class="section level4">
<h4 id="discrete">Discrete<a class="anchor" aria-label="anchor" href="#discrete"></a>
</h4>
<p>Use <code><a href="https://mccarthy-m-g.github.io/palettes/reference/scale_colour_palette_d.html" class="external-link">scale_colour_palette_d()</a></code> and
<code><a href="https://mccarthy-m-g.github.io/palettes/reference/scale_colour_palette_d.html" class="external-link">scale_fill_palette_d()</a></code> for discrete scales.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://mccarthy-m-g.github.io/palettes/reference/scale_colour_palette_d.html" class="external-link">scale_colour_palette_d</a></span><span class="op">(</span><span class="va">warwick_palettes</span><span class="op">$</span><span class="va">primary</span><span class="op">)</span> </span></code></pre></div>
<p><img src="ggplot2_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://mccarthy-m-g.github.io/palettes/reference/scale_colour_palette_d.html" class="external-link">scale_colour_palette_d</a></span><span class="op">(</span><span class="va">warwick_palettes</span><span class="op">$</span><span class="va">primary</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span><span class="op">)</span><span class="op">]</span><span class="op">)</span> </span></code></pre></div>
<p><img src="ggplot2_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mpg_p</span> <span class="op">&lt;-</span> <span class="va">mpg</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">class</span> <span class="op">!=</span> <span class="st">"2seater"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">fl</span>, fill <span class="op">=</span> <span class="va">class</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://mccarthy-m-g.github.io/palettes/reference/scale_colour_palette_d.html" class="external-link">scale_fill_palette_d</a></span><span class="op">(</span><span class="va">warwick_palettes</span><span class="op">$</span><span class="va">primary</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="../reference/theme_warwick.html">theme_warwick</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mpg_p</span></span></code></pre></div>
<p><img src="ggplot2_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="sequential">Sequential<a class="anchor" aria-label="anchor" href="#sequential"></a>
</h4>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">diamonds</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">diamonds</span><span class="op">)</span>, <span class="fl">1000</span><span class="op">)</span>, <span class="op">]</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">carat</span>, <span class="va">price</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="va">clarity</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://mccarthy-m-g.github.io/palettes/reference/scale_colour_palette_d.html" class="external-link">scale_colour_palette_d</a></span><span class="op">(</span><span class="va">warwick_palettes</span><span class="op">$</span><span class="va">aubergine</span><span class="op">)</span></span></code></pre></div>
<p><img src="ggplot2_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<p>Use <code><a href="https://mccarthy-m-g.github.io/palettes/reference/scale_colour_palette_d.html" class="external-link">scale_colour_palette_c()</a></code> and
<code><a href="https://mccarthy-m-g.github.io/palettes/reference/scale_colour_palette_d.html" class="external-link">scale_fill_palette_c()</a></code> for continuous scales and
<code><a href="https://mccarthy-m-g.github.io/palettes/reference/scale_colour_palette_d.html" class="external-link">scale_colour_palette_b()</a></code> and
<code><a href="https://mccarthy-m-g.github.io/palettes/reference/scale_colour_palette_d.html" class="external-link">scale_fill_palette_b()</a></code> for binned scales.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eruptions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">faithfuld</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">waiting</span>, <span class="va">eruptions</span>, fill <span class="op">=</span> <span class="va">density</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html" class="external-link">geom_tile</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">eruptions</span> <span class="op">+</span> <span class="fu"><a href="https://mccarthy-m-g.github.io/palettes/reference/scale_colour_palette_d.html" class="external-link">scale_fill_palette_c</a></span><span class="op">(</span><span class="va">warwick_palettes</span><span class="op">$</span><span class="va">ruby</span><span class="op">)</span></span></code></pre></div>
<p><img src="ggplot2_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eruptions</span> <span class="op">+</span> <span class="fu"><a href="https://mccarthy-m-g.github.io/palettes/reference/scale_colour_palette_d.html" class="external-link">scale_fill_palette_b</a></span><span class="op">(</span><span class="va">warwick_palettes</span><span class="op">$</span><span class="va">teal</span><span class="op">)</span></span></code></pre></div>
<p><img src="ggplot2_files/figure-html/unnamed-chunk-7-2.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="divergent">Divergent<a class="anchor" aria-label="anchor" href="#divergent"></a>
</h4>
<p>To demonstrate the divergent palettes, I’ll first generate some
synthetic data to plot on a map:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">maps</span><span class="op">)</span></span>
<span><span class="co"># Get US state boundaries</span></span>
<span><span class="va">us_states</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/map_data.html" class="external-link">map_data</a></span><span class="op">(</span><span class="st">"state"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generate synthetic data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">states</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">us_states</span><span class="op">$</span><span class="va">region</span><span class="op">)</span></span>
<span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">states</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  region <span class="op">=</span> <span class="va">states</span>,</span>
<span>  value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, mean <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Merge the synthetic data with the map data</span></span>
<span><span class="va">us_states</span> <span class="op">&lt;-</span> <span class="va">us_states</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">data</span>, by <span class="op">=</span> <span class="st">"region"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create the plot (without colour)</span></span>
<span><span class="va">map_p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">us_states</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">long</span>, y <span class="op">=</span> <span class="va">lat</span>, group <span class="op">=</span> <span class="va">group</span>, fill <span class="op">=</span> <span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_polygon.html" class="external-link">geom_polygon</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Divergent Data by US State"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/theme_warwick.html">theme_warwick</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>We can now add a divergent colour palette:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">map_p</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://mccarthy-m-g.github.io/palettes/reference/scale_colour_palette_d.html" class="external-link">scale_fill_palette_c</a></span><span class="op">(</span><span class="va">warwick_palettes</span><span class="op">$</span><span class="va">aubergine_ruby</span><span class="op">)</span></span></code></pre></div>
<p><img src="ggplot2_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
<p>By default, the fill scale’s mid-point is the mean of the groups. If
we want it to be zero, we can use the rescaler argument in
<code><a href="https://ggplot2.tidyverse.org/reference/continuous_scale.html" class="external-link">ggplot2::continuous_scale()</a></code>, which accepts a function used
to scale the input values to the range [0, 1], to scale the fill values
to have a mid-point of zero. For scaling the mid-point use
<code><a href="https://scales.r-lib.org/reference/rescale_mid.html" class="external-link">scales::rescale_mid()</a></code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">map_p</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://mccarthy-m-g.github.io/palettes/reference/scale_colour_palette_d.html" class="external-link">scale_fill_palette_c</a></span><span class="op">(</span><span class="va">warwick_palettes</span><span class="op">$</span><span class="va">aubergine_ruby</span>,</span>
<span>                       rescaler <span class="op">=</span> <span class="op">~</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/rescale_mid.html" class="external-link">rescale_mid</a></span><span class="op">(</span><span class="va">.x</span>, mid <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="ggplot2_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
<p>See the <a href="https://mccarthy-m-g.github.io/palettes/articles/ggplot2.html" class="external-link">using
palettes with ggplot2</a> vignette in the palettes package for more
details.</p>
</div>
</div>
<div class="section level2">
<h2 id="more-on-theme_warwick">More on <code>theme_warwick()</code><a class="anchor" aria-label="anchor" href="#more-on-theme_warwick"></a>
</h2>
<p>Let’s return to some earlier examples to see how to get the most out
of <code><a href="../reference/theme_warwick.html">theme_warwick()</a></code>.</p>
<p><code><a href="../reference/theme_warwick.html">theme_warwick()</a></code> makes use of
<code><a href="https://wilkelab.org/ggtext/reference/element_textbox.html" class="external-link">ggtext::element_textbox_simple()</a></code> for the plot title and
subtitle. This allows us to make use of markdown and CSS styles in the
text, and also enables text-wrapping:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_p</span> <span class="op">&lt;-</span> <span class="va">p</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"Flipper length and body mass for **&lt;span style = 'color:#3C1053;'&gt;Adelie&lt;/span&gt;**, **&lt;span style = 'color:#6DCDB8;'&gt;Chinstrap&lt;/span&gt;** and **&lt;span style = 'color:#CB333B;'&gt;Gentoo&lt;/span&gt;** Penguins. This is based on data made available in the **palmerpenguins** R package."</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://mccarthy-m-g.github.io/palettes/reference/scale_colour_palette_d.html" class="external-link">scale_color_palette_d</a></span><span class="op">(</span><span class="va">warwick_palettes</span><span class="op">$</span><span class="va">primary</span><span class="op">)</span></span>
<span></span>
<span><span class="va">new_p</span></span></code></pre></div>
<p><img src="ggplot2_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
<p>We can now use <code><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme()</a></code> to make further adjustments to
the appearance of the plot. Now that we have colour for the different
species in the subtitle, we no longer need the legend. Let’s alter some
of the text. Note that because the title is set in
<code><a href="../reference/theme_warwick.html">theme_warwick()</a></code> as a
<code><a href="https://wilkelab.org/ggtext/reference/element_textbox.html" class="external-link">ggtext::element_textbox_simple()</a></code>, you need to use that in
the subsequent call to theme, whereas for make the text bigger for the
caption, you just need the standard
<code><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">ggplot2::element_text()</a></code>:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_p</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>        plot.title <span class="op">=</span> <span class="fu">ggtext</span><span class="fu">::</span><span class="fu"><a href="https://wilkelab.org/ggtext/reference/element_textbox.html" class="external-link">element_textbox_simple</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">rel</a></span><span class="op">(</span><span class="fl">1.6</span><span class="op">)</span><span class="op">)</span>,</span>
<span>        plot.caption <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="st">"#CB333B"</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span></code></pre></div>
<p><img src="ggplot2_files/figure-html/unnamed-chunk-12-1.png" width="700"></p>
<p>Note here that the title and subtitle now have less space between
them. This is because, in <code><a href="../reference/theme_warwick.html">theme_warwick()</a></code> the spacing is
defined in the definition of <code>plot.title</code> and that has now
been overwritten, so we need to put it back. We can inspect the source
code by calling <code>theme_warwick</code> in the console (without the
parentheses), or with <code>View(theme_warwick)</code>. We can then see
the whole definition of <code>plot.title</code> and put the definition
of <code>margin</code> back in. The colour can stay as is:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_p</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>        plot.title <span class="op">=</span> <span class="fu">ggtext</span><span class="fu">::</span><span class="fu"><a href="https://wilkelab.org/ggtext/reference/element_textbox.html" class="external-link">element_textbox_simple</a></span><span class="op">(</span>                                                    size <span class="op">=</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">rel</a></span><span class="op">(</span><span class="fl">1.6</span><span class="op">)</span>,</span>
<span>           margin <span class="op">=</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">margin</a></span><span class="op">(</span><span class="fl">12</span>, <span class="fl">0</span>, <span class="fl">6</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span>,</span>
<span>        plot.caption <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="st">"#CB333B"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="ggplot2_files/figure-html/unnamed-chunk-13-1.png" width="700"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ella Kaye.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
